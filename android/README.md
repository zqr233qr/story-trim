# StoryTrim Android é¡¹ç›®

## ğŸš€ å¿«é€Ÿå¼€å§‹

### macOS Intel (x86_64)
```bash
./setup_and_run_intel.sh
```

### macOS Apple Silicon (M1/M2/M3)
```bash
./setup_and_run_apple_silicon.sh
```

## ğŸ“± é¡¹ç›®è¯´æ˜

StoryTrim Android åŸç”Ÿåº”ç”¨ï¼ŒåŸºäºä»¥ä¸‹æŠ€æœ¯æ ˆæ„å»ºï¼š
- **Kotlin** - ç°ä»£åŒ– Android å¼€å‘è¯­è¨€
- **Jetpack** - Android å®˜æ–¹ç»„ä»¶åº“
- **Hilt** - ä¾èµ–æ³¨å…¥æ¡†æ¶
- **Room** - æœ¬åœ°æ•°æ®åº“
- **Retrofit** - ç½‘ç»œè¯·æ±‚
- **Coroutines** - åç¨‹å¼‚æ­¥å¤„ç†

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
android/
â”œâ”€â”€ app/src/main/java/com/storytrim/app/
â”‚   â”œâ”€â”€ core/                    # æ ¸å¿ƒåŸºç¡€è®¾æ–½
â”‚   â”‚   â”œâ”€â”€ database/           # Room æ•°æ®åº“
â”‚   â”‚   â”œâ”€â”€ network/            # ç½‘ç»œå±‚
â”‚   â”‚   â””â”€â”€ utils/              # å·¥å…·ç±»
â”‚   â”œâ”€â”€ feature/               # ä¸šåŠ¡æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ auth/              # ç™»å½•/æ³¨å†Œ
â”‚   â”‚   â”œâ”€â”€ book/              # ä¹¦ç±ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ chapter/           # ç« èŠ‚ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ reader/            # é˜…è¯»å™¨
â”‚   â”‚   â”œâ”€â”€ trim/              # ç²¾ç®€åŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ stream/            # WebSocket æµå¼ç²¾ç®€
â”‚   â”‚   â””â”€â”€ sync/              # åŒæ­¥åŠŸèƒ½
â”‚   â”œâ”€â”€ data/                 # æ•°æ®å±‚
â”‚   â”œâ”€â”€ di/                   # ä¾èµ–æ³¨å…¥
â”‚   â””â”€â”€ MainActivity.kt       # ä¸»å…¥å£
â”œâ”€â”€ app/build.gradle.kts       # åº”ç”¨çº§æ„å»ºé…ç½®
â”œâ”€â”€ build.gradle.kts           # é¡¹ç›®çº§æ„å»ºé…ç½®
â””â”€â”€ settings.gradle.kts        # Gradle è®¾ç½®
```

## âš™ï¸ ç¯å¢ƒè¦æ±‚

- **Android Studio**: Koala | 2024.1.1 æˆ–æ›´é«˜
- **JDK**: 17 æˆ–æ›´é«˜
- **Android SDK**: API 24-34
- **Gradle**: 8.6

## ğŸ› ï¸ å¼€å‘æŒ‡å—

è¯¦ç»†çš„å¿«é€Ÿå¼€å§‹æŒ‡å—è¯·æŸ¥çœ‹ï¼š[ANDROID_QUICKSTART.md](./ANDROID_QUICKSTART.md)

### ä¸»è¦åŠŸèƒ½æ¨¡å—

| æ¨¡å— | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| è®¤è¯ (Auth) | âœ… å®Œæˆ | ç™»å½•/æ³¨å†ŒåŠŸèƒ½ |
| ä¹¦ç± (Book) | âœ… å®Œæˆ | ä¹¦æ¶ã€ä¹¦ç±åˆ—è¡¨ |
| ç« èŠ‚ (Chapter) | ğŸš§ å¼€å‘ä¸­ | ç« èŠ‚åˆ—è¡¨ä¸å†…å®¹ |
| é˜…è¯»å™¨ (Reader) | ğŸš§ å¼€å‘ä¸­ | ç« èŠ‚é˜…è¯» |
| ç²¾ç®€ (Trim) | ğŸš§ å¼€å‘ä¸­ | å†…å®¹ç²¾ç®€ |
| æµå¼ç²¾ç®€ (Stream) | ğŸš§ å¼€å‘ä¸­ | WebSocket å®æ—¶ç²¾ç®€ |
| åŒæ­¥ (Sync) | ğŸš§ å¼€å‘ä¸­ | æ•°æ®åŒæ­¥ |

## âœ… éªŒæ”¶æ¸…å•

- sync_state=0ï¼šç²¾ç®€æ¨¡å¼åˆ‡æ¢ã€æµå¼ç²¾ç®€æˆåŠŸ/å¤±è´¥å›é€€
- sync_state=1/2ï¼šç²¾ç®€æ¨¡å¼åˆ‡æ¢ã€æµå¼ç²¾ç®€æˆåŠŸ/å¤±è´¥å›é€€
- å‰åç« èŠ‚é¢„åŠ è½½å‘½ä¸­ï¼ˆåŸæ–‡ + ç²¾ç®€ï¼‰
- è¿›åº¦æ¢å¤ï¼šæœ¬åœ°/äº‘ç«¯å¯¹æ¯”åçš„ç« èŠ‚ä¸æ¨¡å¼æ¢å¤

## ğŸ”§ é…ç½®è¯´æ˜

### API åœ°å€é…ç½®

ç¼–è¾‘ `app/src/main/java/com/storytrim/app/core/network/ApiClient.kt`ï¼š

```kotlin
// åç«¯åœ¨æœ¬æœº
baseUrl = "http://10.0.2.2:8080/api/v1/"

// åç«¯åœ¨å±€åŸŸç½‘
baseUrl = "http://192.168.1.100:8080/api/v1/"
```

### æ•°æ®åº“é…ç½®

æ•°æ®åº“æ–‡ä»¶ï¼š`story_trim.db`
ä½ç½®ï¼šåº”ç”¨ç§æœ‰å­˜å‚¨ç©ºé—´

ç‰ˆæœ¬ï¼š1
è‡ªåŠ¨è¿ç§»ï¼šæ”¯æŒç ´åæ€§è¿ç§»ï¼ˆå¼€å‘é˜¶æ®µï¼‰

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Android è¿ç§»æ–¹æ¡ˆ](./DOCS_ANDROID_MIGRATION.md) - è¯¦ç»†çš„æŠ€æœ¯è®¾è®¡æ–‡æ¡£
- [å¿«é€Ÿå¼€å§‹æŒ‡å—](./ANDROID_QUICKSTART.md) - æ–°æ‰‹å…¥é—¨æ•™ç¨‹
- [AGENTS.md](./AGENTS.md) - AI Agent å¼€å‘æŒ‡å—

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æäº¤ Issue æˆ–è”ç³»å¼€å‘å›¢é˜Ÿ

---

**Happy Coding!** ğŸ‰
