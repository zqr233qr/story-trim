# StoryTrim 产品演进规划 (Product Evolution Plan)

## 1. 用户画像与痛点分析 (User Personas)

### 👤 用户 A：老书虫 (The Binge Reader)
- **特征**：阅读速度极快，阅龄 10 年+，对套路烂熟于心。
- **痛点**：网文“注水”严重（重复的系统提示、无关的环境描写、反派降智打击）。
- **需求**：跳过套路，只看干货。**“去油腻”**。
- **场景**：通勤路上，睡前，希望快速刷完一本几百万字的小说。

### 👤 用户 B：情怀重温党 (The Nostalgic)
- **特征**：想重温经典（如《斗破》《凡人》），但没时间重读全本。
- **痛点**：记忆模糊，只想看经典名场面，不想看练级过程。
- **需求**：**“高光时刻提取”**，或者生成“剧情梗概+名场面原文”。

### 👤 用户 C：听书用户 (The Listener)
- **特征**：使用 TTS (听书) 软件。
- **痛点**：注水内容浪费听书时长，且听起来很枯燥。
- **需求**：**“省流版听书文本”**，精简后的文本更适合朗读。

---

## 2. 核心竞争力与差异化功能 (Core Competitiveness)

目前市面上的 AI 摘要工具多针对新闻/论文，针对**长篇小说**的极少。我们的机会在于解决长文本的**连贯性**与**沉浸感**。

### ⭐ 杀手级功能 1：智能记忆与上下文 (Context Aware / RAG)
- **问题**：现在是逐章处理，AI 容易忘记主角上一章获得的宝物，或者把重要配角当路人删掉。
- **方案**：建立**“小说知识库”**。
    - 每章处理完后，AI 自动提取本章新增的【人物、关系、道具、伏笔】。
    - 处理下一章时，将知识库摘要作为 Context 喂给 AI。
    - **价值**：保证精简后的剧情连贯，伏笔不丢。

### ⭐ 杀手级功能 2：自定义精简偏好 (Customizable Trim Style)
- **问题**：一刀切的“减少 30%”不能满足所有人。
- **方案**：提供**“阅读偏好选择器”**。
    - 🗡️ **剧情党**：保留对话、冲突；删除环境、心理描写。
    - ❤️ **CP 党**：保留所有感情互动、心理描写；删除打斗、升级数据。
    - 📝 **大纲党**：每章生成 200 字梗概。

### ⭐ 杀手级功能 3：可视化阅读 (Visualized Reading)
- **方案**：
    - **人物关系图谱**：随着章节推进，自动生成动态关系图（谁是朋友，谁是敌人）。
    - **地图足迹**：主角去过哪里的可视化路径。

---

## 3. UI/UX 体验升级 (UI/UX Overhaul)

从“工具软件”向“阅读软件”转型。

### 🎨 沉浸式阅读器 (Immersive Reader)
- **字体与排版**：支持自定义字体（衬线/无衬线）、行高、字号。引入类似 iBooks 的羊皮纸/护眼背景。
- **禅模式**：隐藏所有侧边栏和按钮，只留文字。

### 📱 移动端优先 (Mobile First)
- **PWA 支持**：手机浏览器添加到桌面，像原生 App 一样使用。
- **触控优化**：左右滑动翻章，长按原文段落查看 AI 修改理由。

### 📊 交互式对比 (Diff View)
- **高亮修改**：不要只显示结果。用不同颜色（如红色删除线）在原文上标记出 AI 删掉的内容。用户点击可“复活”该段落。
    - *体验*：“原来 AI 删了这段废话，删得好！”（爽感）。

---

## 4. 后续开发路线图 (Roadmap)

### 阶段 5：沉浸式 UI 重构 (Immersive UI)
- [ ] 引入 `Typography` 排版系统。
- [ ] 增加字体、字号、背景色设置面板。
- [ ] 移动端响应式深度适配。

### 阶段 6：上下文记忆系统 (Context Memory)
- [ ] 后端集成简单的向量存储或 JSON 知识库。
- [ ] Prompt 升级：增加“提取记忆”步骤。
- [ ] Pipeline 升级：处理流中注入 Context。

### 阶段 7：偏好设置与 Diff 模式 (Preferences & Diff)
- [ ] 前端：增加 Prompt 预设选择（剧情模式/精简模式）。
- [ ] 前端：实现原文/精简文的 Diff 对比高亮模式。
